<!DOCTYPE html>
<html>
    <head>
        <title>JavaScript dependencies Diagrams for node_modules\merkle-patricia-tree</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.4.2/chosen.min.css" />

        <style type="text/css">
         #graph { margin-top: 10px; }
         .node:hover { cursor: pointer; }
         .node:hover ellipse { fill: #3875d7; }
         .node:hover text { fill: #FFF; }
         footer {
             font-size: 10px;
             color: grey;
             text-align: center;
         }
         .pointer { cursor: pointer; }
        </style>
    </head>
    <body>
        <h1>node_modules\merkle-patricia-tree</h1>
        <select id="modules" class="chosen-select" data-placeholder="Choose a Module...">
            <option></option>
            <option value="baseTrie" >baseTrie</option>
            <option value="benchmarks/checkpointing" >benchmarks/checkpointing</option>
            <option value="benchmarks/random" >benchmarks/random</option>
            <option value="checkpoint-interface" >checkpoint-interface</option>
            <option value="dist/trie" >dist/trie</option>
            <option value="geth_test" >geth_test</option>
            <option value="index" >index</option>
            <option value="proof" >proof</option>
            <option value="readStream" >readStream</option>
            <option value="secure" >secure</option>
            <option value="secure-interface" >secure-interface</option>
            <option value="test/encodeing" >test/encodeing</option>
            <option value="test/failingRefactorTests" >test/failingRefactorTests</option>
            <option value="test/index" >test/index</option>
            <option value="test/offical" >test/offical</option>
            <option value="test/prioritizedTaskExecutor" >test/prioritizedTaskExecutor</option>
            <option value="test/proof" >test/proof</option>
            <option value="test/rawOPs" >test/rawOPs</option>
            <option value="test/secure" >test/secure</option>
            <option value="test/streams" >test/streams</option>
            <option value="trieNode" >trieNode</option>
            <option value="util" >util</option>
        </select>
        <input class="pointer" id="reverse-deps" type="checkbox" />
        <label class="pointer" for="reverse-deps">Reverse Depends</label>

        <div id="graph" class=""> </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/0.0.3/viz.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.4.2/chosen.jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ramda/0.13.0/ramda.min.js"></script>
        <script>
         $('#modules').chosen({search_contains: true});

         var rawData = JSON.parse('{"baseTrie":["../async/lib/async","../ethereumjs-util/dist/index","../memdown/memdown","../rlp/index","../semaphore/lib/semaphore","assert","node_modules/levelup/lib/levelup","prioritizedTaskExecutor","readStream","trieNode","util"],"benchmarks/checkpointing":["../async/lib/async","crypto","index"],"benchmarks/random":["../async/lib/async","../ethereumjs-util/dist/index","index"],"checkpoint-interface":["../async/lib/async","../level-ws/level-ws","../memdown/memdown","../readable-stream/readable","node_modules/levelup/lib/levelup","util"],"dist/trie":["../../../is-buffer/index.js","../../util","../async/lib/async","../bip66/index","../bn.js/lib/bn","../brorand/index","../cipher-base/index","../common","../core-util-is/lib/util","../create-hash/index","../curve","../elliptic","../elliptic/lib/elliptic","../errno/errno","../ethereumjs-util/dist/index","../ethjs-util/lib/index","../functional-red-black-tree/rbtree","../hash-base/index","../hash.js/lib/hash","../hmac-drbg/lib/hmac-drbg","../immediate/lib/index","../inherits/inherits","../is-buffer/index","../is-buffer/index.js","../is-hex-prefixed/src/index","../keccak/index","../level-codec/index","../level-ws/level-ws","../ltgt/index","../memdown/memdown","../messages.json","../minimalistic-assert/index","../minimalistic-crypto-utils/lib/utils","../object-keys/index","../process-nextick-args/index","../prr/prr","../readable-stream/duplex","../readable-stream/passthrough","../readable-stream/readable","../readable-stream/transform","../readable-stream/writable","../ripemd160/index","../rlp/index","../safe-buffer/index","../secp256k1/index","../semaphore/lib/semaphore","../sha.js/index","../strip-hex-prefix/src/index","../util-deprecate/node","../utils","../xtend/immutable","./256","./512","./_stream_duplex","./_stream_readable","./_stream_transform","./_stream_writable","./abstract-chained-batch","./abstract-iterator","./abstract-leveldown","./assert","./base","./baseTrie","./batch","./checkpoint-interface","./common","./custom","./deferred-iterator","./der","./edwards","./elliptic/curve","./elliptic/curves","./elliptic/ec","./elliptic/eddsa","./elliptic/utils","./foreach","./has-keys","./hash","./hash/common","./hash/hmac","./hash/ripemd","./hash/sha","./hash/utils","./immediate","./internal/streams/BufferList","./internal/streams/destroy","./internal/streams/stream","./is-leveldown","./isArguments","./keccak","./keccak-state-unroll","./key","./leveldown","./lib","./lib/_stream_duplex.js","./lib/_stream_passthrough.js","./lib/_stream_readable.js","./lib/_stream_transform.js","./lib/_stream_writable.js","./lib/api","./lib/elliptic","./lib/encodings","./lib/keccak","./make-hash","./md5","./messageChannel","./messages.json","./mont","./mutation.js","./nextTick","./precomputed/secp256k1","./prioritizedTaskExecutor","./proof.js","./readStream","./readable","./sha","./sha/1","./sha/224","./sha/256","./sha/384","./sha/512","./sha1","./sha224","./sha256","./sha384","./sha512","./shake","./shim","./short","./signature","./stateChange","./support/isBuffer","./timeout","./trieNode","./util","./utils","_process","assert","base64-js","buffer","crypto","events","ieee754","node_modules/abstract-leveldown/index","node_modules/deferred-leveldown/deferred-leveldown","node_modules/isarray/index","node_modules/level-errors/errors","node_modules/level-iterator-stream/index","node_modules/levelup/lib/levelup","node_modules/string_decoder/index","package.json","stream","util"],"geth_test":["../leveldown/leveldown","../rlp/index","node_modules/levelup/lib/levelup","secure"],"index":["baseTrie","checkpoint-interface","proof","util"],"karma.conf":[],"node_modules/abstract-leveldown/abstract-chained-batch":[],"node_modules/abstract-leveldown/abstract-iterator":[],"node_modules/abstract-leveldown/abstract-leveldown":["../xtend/immutable","node_modules/abstract-leveldown/abstract-chained-batch","node_modules/abstract-leveldown/abstract-iterator"],"node_modules/abstract-leveldown/abstract/approximate-size-test":[],"node_modules/abstract-leveldown/abstract/batch-test":["node_modules/abstract-leveldown/abstract/util"],"node_modules/abstract-leveldown/abstract/chained-batch-test":[],"node_modules/abstract-leveldown/abstract/close-test":[],"node_modules/abstract-leveldown/abstract/del-test":["node_modules/abstract-leveldown/abstract/util"],"node_modules/abstract-leveldown/abstract/get-test":["node_modules/abstract-leveldown/abstract/util"],"node_modules/abstract-leveldown/abstract/iterator-test":[],"node_modules/abstract-leveldown/abstract/leveldown-test":[],"node_modules/abstract-leveldown/abstract/open-test":[],"node_modules/abstract-leveldown/abstract/put-get-del-test":["node_modules/abstract-leveldown/abstract/util"],"node_modules/abstract-leveldown/abstract/put-test":["node_modules/abstract-leveldown/abstract/util"],"node_modules/abstract-leveldown/abstract/ranges-test":["node_modules/abstract-leveldown/abstract/iterator-test"],"node_modules/abstract-leveldown/abstract/util":[],"node_modules/abstract-leveldown/index":["node_modules/abstract-leveldown/abstract-chained-batch","node_modules/abstract-leveldown/abstract-iterator","node_modules/abstract-leveldown/abstract-leveldown","node_modules/abstract-leveldown/is-leveldown"],"node_modules/abstract-leveldown/is-leveldown":["node_modules/abstract-leveldown/abstract-leveldown"],"node_modules/abstract-leveldown/test":["node_modules/abstract-leveldown/abstract/approximate-size-test","node_modules/abstract-leveldown/abstract/batch-test","node_modules/abstract-leveldown/abstract/chained-batch-test","node_modules/abstract-leveldown/abstract/close-test","node_modules/abstract-leveldown/abstract/del-test","node_modules/abstract-leveldown/abstract/get-test","node_modules/abstract-leveldown/abstract/iterator-test","node_modules/abstract-leveldown/abstract/leveldown-test","node_modules/abstract-leveldown/abstract/open-test","node_modules/abstract-leveldown/abstract/put-get-del-test","node_modules/abstract-leveldown/abstract/put-test","node_modules/abstract-leveldown/index","node_modules/abstract-leveldown/testCommon","sinon","tape","util"],"node_modules/abstract-leveldown/testCommon":["fs","path","rimraf"],"node_modules/deferred-leveldown/deferred-iterator":["node_modules/abstract-leveldown/index","util"],"node_modules/deferred-leveldown/deferred-leveldown":["node_modules/abstract-leveldown/index","node_modules/deferred-leveldown/deferred-iterator","util"],"node_modules/deferred-leveldown/test":["node_modules/deferred-leveldown/deferred-leveldown","tape"],"node_modules/isarray/build/build":[],"node_modules/isarray/index":[],"node_modules/level-errors/errors":["../errno/errno"],"node_modules/level-errors/test":["node_modules/level-errors/errors","tape"],"node_modules/level-iterator-stream/example":["../leveldown/leveldown","node_modules/level-iterator-stream/index"],"node_modules/level-iterator-stream/index":["../inherits/inherits","../xtend/immutable","node_modules/level-errors/errors","node_modules/level-iterator-stream/node_modules/readable-stream/readable"],"node_modules/level-iterator-stream/node_modules/readable-stream/duplex":["node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_duplex"],"node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_duplex":["../core-util-is/lib/util","../inherits/inherits","node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_readable","node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_writable"],"node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_passthrough":["../core-util-is/lib/util","../inherits/inherits","node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_transform"],"node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_readable":["../core-util-is/lib/util","../inherits/inherits","buffer","events","node_modules/isarray/index","node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_duplex","node_modules/string_decoder/index","stream","util"],"node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_transform":["../core-util-is/lib/util","../inherits/inherits","node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_duplex"],"node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_writable":["../core-util-is/lib/util","../inherits/inherits","buffer","node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_duplex","stream"],"node_modules/level-iterator-stream/node_modules/readable-stream/passthrough":["node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_passthrough"],"node_modules/level-iterator-stream/node_modules/readable-stream/readable":["node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_duplex","node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_passthrough","node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_readable","node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_transform","node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_writable","stream"],"node_modules/level-iterator-stream/node_modules/readable-stream/transform":["node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_transform"],"node_modules/level-iterator-stream/node_modules/readable-stream/writable":["node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_writable"],"node_modules/level-iterator-stream/test":["../level-codec/index","../leveldown/leveldown","node_modules/abstract-leveldown/index","node_modules/level-errors/errors","node_modules/level-iterator-stream/index","tape","through2"],"node_modules/levelup/buster":[],"node_modules/levelup/lib/batch":["node_modules/level-errors/errors","node_modules/levelup/lib/util"],"node_modules/levelup/lib/leveldown":["../leveldown/leveldown","../leveldown/package.json","node_modules/level-errors/errors","node_modules/levelup/package.json","node_modules/semver/semver","util"],"node_modules/levelup/lib/levelup":["../level-codec/index","../prr/prr","../xtend/immutable","events","node_modules/deferred-leveldown/deferred-leveldown","node_modules/level-errors/errors","node_modules/level-iterator-stream/index","node_modules/levelup/lib/batch","node_modules/levelup/lib/leveldown","node_modules/levelup/lib/util","util"],"node_modules/levelup/lib/util":[],"node_modules/levelup/test/approximate-size-test":["../async/lib/async","bustermove","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/argument-checking-test":["bustermove","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/batch-test":["../async/lib/async","bustermove","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/binary-test":["../async/lib/async","bustermove","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/browserify-test":["../bl/bl","after","browserify","bustermove","child_process","path","referee"],"node_modules/levelup/test/common":["../async/lib/async","crypto","delayed","fs","node_modules/level-errors/errors","node_modules/levelup/lib/levelup","path","referee","rimraf"],"node_modules/levelup/test/create-stream-vs-put-racecondition":["bustermove","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/data/browser-throws":["node_modules/levelup/lib/levelup"],"node_modules/levelup/test/data/browser-works":["../memdown/memdown","node_modules/levelup/lib/levelup"],"node_modules/levelup/test/deferred-open-test":["../async/lib/async","bustermove","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/destroy-repair-test":["../leveldown/leveldown","bustermove","node_modules/levelup/lib/levelup","referee"],"node_modules/levelup/test/encoding-test":["../safe-buffer/index","bustermove","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/get-put-del-test":["../async/lib/async","bustermove","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/idempotent-test":["bustermove","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/init-test":["../memdown/memdown","bustermove","fs","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/inject-encoding-test":["../async/lib/async","bustermove","msgpack-js","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/json-test":["../async/lib/async","bustermove","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/key-value-streams-test":["bustermove","delayed","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/leveldown-substitution-test":["../memdown/memdown","bustermove","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/null-and-undefined-test":["bustermove","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/open-patchsafe-test":["bustermove","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee"],"node_modules/levelup/test/optional-leveldown-test":["../../leveldown/package","../leveldown/leveldown","bustermove","node_modules/levelup/lib/leveldown","node_modules/levelup/lib/levelup","referee","util"],"node_modules/levelup/test/read-stream-test":["../async/lib/async","bustermove","delayed","msgpack-js","node_modules/levelup/lib/levelup","node_modules/levelup/test/common","referee","rimraf","slow-stream"],"node_modules/levelup/test/snapshot-test":["bustermove","delayed","node_modules/levelup/test/common","referee","slow-stream"],"node_modules/semver/semver":[],"node_modules/string_decoder/index":["buffer"],"prioritizedTaskExecutor":[],"proof":["../ethereumjs-util/dist/index","trieNode","util"],"readStream":["../readable-stream/readable","trieNode","util"],"secure":["index","secure-interface","util"],"secure-interface":["../ethereumjs-util/dist/index"],"test/encodeing":["index","tape"],"test/failingRefactorTests":["../async/lib/async","secure","tape"],"test/index":["../async/lib/async","../ethereumjs-util/dist/index","../rlp/index","index","tape"],"test/offical":["../async/lib/async","ethereumjs-testing","index","tape"],"test/prioritizedTaskExecutor":["prioritizedTaskExecutor","tape"],"test/proof":["../async/lib/async","index","tape"],"test/rawOPs":["crypto","index","tape"],"test/secure":["../async/lib/async","ethereumjs-testing","secure","tape"],"test/streams":["index","tape"],"trieNode":["../ethereumjs-util/dist/index","../rlp/index"],"util":["../async/lib/async"]}');
         var reverseDeps = false;
        </script>
        <script>
         /* jshint maxstatements:20 */
/* global $:false */
/* global R:false */
/* global Viz:false */
/* global console:false */
/* global rawData:false */
/* global reverseDeps:false */

(function (R, viz, $, rawData, reverseDeps) {

  function actionHandler() {
    genDiagram($('#modules').val(), $('#reverse-deps').is(':checked'));
  }

  function genDiagram(selectVal, reverseDep) {
    var treeData = rawData,
        el = $('#graph'),
        dots;

    el.html('<h3>LOADING...</h3>');

    if (selectVal !== '...') {
      if (reverseDep) {
        treeData = genDependReverseTree(treeData, selectVal);
      }

      dots = graphData(selectVal, treeData);

      // Viz takes times synchronizedly !!
      setTimeout(function () {
        console.time('renderTree');
        var g = viz(dots, "svg", "dot");
        $('#graph').html(g);
        console.timeEnd('renderTree');
      }, 0);

    }
  }

  function dependOf(treeData, name) {
    var getVal = R.prop(R.__, treeData),
        hasDepends = R.compose(R.contains(name), getVal),
        keys = R.keys(treeData);

    return R.filter(hasDepends, keys);
  }

  /**
   * an reversed tree with the specified @depName@ as top.
   */
  function genDependReverseTree(treeData, depName) {
    if (!genDependReverseTree.cache) {
      genDependReverseTree.cache = {};
    }
    if (genDependReverseTree.cache[depName]) {
      return genDependReverseTree.cache[depName];
    }
    var ds = dependOf(treeData, depName),
        dTree = {};

    dTree[depName] = ds;

    if (R.isEmpty(ds)) {
      return dTree;
    } else {
      var deeperDeps = R.map(R.curry(genDependReverseTree)(treeData), ds),
          allDeps = deeperDeps.concat(dTree),
          result = R.mergeAll(allDeps);
      genDependReverseTree.cache[depName] = result;
      return result;
    }
  }

  function getDep(name, treeData) {
    return R.prop(name, treeData) || R.prop('node_modules/' + name, treeData) || [];
  }

  function graphData(name, treeData) {
    var nodes = [],
        links = [];

    genNode.cache = {};
    genNode([name], nodes, links, treeData);
    return genDot(nodes, links);
  }

  function genNode(names, nodes, links, treeData) {
    R.map(function (n) {
      if (!genNode.cache[n]) {
        var deps = getDep(n, treeData),
            ls = R.map(function (d) { return {source: n, target: d}; }, deps);
        nodes.push(n);
        // links is "global" defined at graphData function hence have to change in place.
        R.map(function (l) { links.push(l); }, ls);

        genNode.cache[n] = ls;
        genNode(deps, nodes, links, treeData);
      }
    }, names);
  }

  function genDot(nodes, links) {
    var start = ['digraph G {'],
        end = ['}'],
        appendComma = function (x) {return '"' + x + '";'; },
        reverseArrow = $('#reverse-deps').is(':checked') ? ' [dir=back]' : '',
        genLink = function (o) { return '"' + o.source + '"' + ' -> ' + '"' + o.target + '"' + reverseArrow; },
        xs = R.uniq(R.map(appendComma, nodes)),
        ys = R.uniq(R.map(genLink, links)),
        dots = R.reduce(R.concat, [], [start, xs, ys, end]).join('\r\n');

    return dots;
  }

  function nodeClickHandler() {
    var that = $(this),
        val = that.find('text').text();

    if (rawData[val]) {
      $('#modules')
        .val(val).change()
        .trigger('chosen:updated');

    } else {
      $('#graph').html('<h3>ERROR: dont have module: ' + val + '</h3>');
    }

  }

  function main() {
    var m = $('#modules'),
        rd = $('#reverse-deps');

    m.bind('change', actionHandler);
    rd.bind('change', actionHandler);
    $('#graph').delegate('.node', 'click', nodeClickHandler);

    if (reverseDeps) {
      rd.prop('checked', true);
    }
    if (m.val()) {
      m.change();
    }
  }

  main();

})(R, Viz, $, rawData, reverseDeps);

        </script>

        <footer>
            Generated by <a href="https://www.npmjs.com/package/js-vd">js-vd</a>
        </footer>
    </body>
</html>
